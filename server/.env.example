# 博客系统环境配置示例
# 复制此文件为 .env 并修改配置

# ===========================================
# 数据库配置
# ===========================================

# SQLite (开发环境 - 当前配置)
# DATABASE_URL="file:./dev.db"

# PostgreSQL (生产环境推荐)
# 本地 PostgreSQL
DATABASE_URL="postgresql://postgres:your_password@localhost:5432/blog?schema=public"

# Docker PostgreSQL
# DATABASE_URL="postgresql://postgres:postgres@postgres:5432/blog?schema=public"

# 远程 PostgreSQL (例如 Supabase, Neon, Railway 等)
# DATABASE_URL="postgresql://user:password@host:5432/database?sslmode=require"

# ===========================================
# 应用配置
# ===========================================

# 服务端口
PORT=3001

# JWT 密钥 (生产环境请使用强密钥)
JWT_SECRET="your-super-secret-jwt-key-change-me-in-production"

# CORS 允许的源 (逗号分隔)
CORS_ORIGINS="http://localhost:5173,http://127.0.0.1:5173"

# JSON 请求体大小限制
JSON_BODY_LIMIT="10mb"

# ===========================================
# 备份配置
# ===========================================

# 每日备份时间 (HH:MM 格式，24小时制)
BACKUP_SCHEDULE="04:00"

# 备份保留天数
BACKUP_RETENTION_DAYS=7

# ===========================================
# 速率限制配置
# ===========================================

# 全局速率限制窗口 (分钟)
RATE_LIMIT_WINDOW_MINUTES=15

# 全局速率限制最大请求数
RATE_LIMIT_MAX=300

# 登录速率限制窗口 (分钟)
LOGIN_RATE_LIMIT_WINDOW_MINUTES=15

# 登录速率限制最大尝试次数
LOGIN_RATE_LIMIT_MAX=5

# ===========================================
# PostgreSQL 备份工具配置 (可选)
# ===========================================

# 如果 pg_dump/psql 不在 PATH 中，可以指定路径
# PG_DUMP_PATH="/usr/local/bin/pg_dump"
# PSQL_PATH="/usr/local/bin/psql"
